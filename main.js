(()=>{"use strict";class t{constructor(t,e,n,r){this.name=t,this.input=e,this.type=n,this.options=r}createLabel(){const t=document.createElement("label");return t.setAttribute("for",this.name),t.textContent=this.name,t}createInput(){const t=["type","id","name"],e=document.createElement(this.input);for(let n=0;n<t.length;n++)0===n?e.setAttribute(t[n],this.type):e.setAttribute(t[n],this.name);if("select"===this.input){e.removeAttribute("type");for(let t=0;t<this.options.length;t++){const n=document.createElement("option");n.setAttribute("value",this.options[t]),n.textContent=this.options[t],e.appendChild(n)}}return e}}const e=()=>({title:document.querySelector("#Title").value,date:document.querySelector("#Date").value,priority:document.querySelector("#Priority").value,description:document.querySelector("#Description").value});var n,r=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)}const i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(t){return"string"==typeof t&&i.test(t)};for(var s=[],c=0;c<256;++c)s.push((c+256).toString(16).substr(1));const d=function(t,e,n){var r=(t=t||{}).random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[t[e+0]]+s[t[e+1]]+s[t[e+2]]+s[t[e+3]]+"-"+s[t[e+4]]+s[t[e+5]]+"-"+s[t[e+6]]+s[t[e+7]]+"-"+s[t[e+8]]+s[t[e+9]]+"-"+s[t[e+10]]+s[t[e+11]]+s[t[e+12]]+s[t[e+13]]+s[t[e+14]]+s[t[e+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n}(r)};class u{constructor(t,e,n,r,o){this.header=t,this.id=e,this.desc=n,this.date=r,this.priority=o}createContainer(){const t=document.createElement("div");return t.className="task-container",t}createHeader(){const t=document.createElement("div"),e=document.createElement("h3"),n=document.createElement("button"),r=document.createElement("button");return t.className="tasks",t.dataset.taskId=this.id,e.textContent=this.header,n.textContent="edit",n.className="edit-button",n.dataset.takId=this.id,r.textContent="remove",r.className="remove-button",r.dataset.taskId=this.id,t.appendChild(e),t.appendChild(n),t.appendChild(r),t}createDetails(){}}const l=t=>{const e=document.querySelector("#content");e.innerHTML="";for(let n=0;n<t.length;n++){const r=new u(t[n].title,t[n].id,t[n].description,t[n].date,t[n].priority),o=r.createContainer();o.appendChild(r.createHeader()),o.appendChild(r.createDetails()),e.appendChild(o)}document.querySelectorAll(".remove").forEach((t=>{t.addEventListener("click",h.removeTask)})),p()},p=()=>{document.querySelectorAll(".tasks").forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.dataset.taskId,n=document.querySelectorAll(".details");for(let t of n)e===t.dataset.taskId&&t.classList.toggle("show")}))}))};class m extends class{constructor(t){this.title=t}}{constructor(t,e,n,r){super(t),this.description=e,this.date=n,this.priority=r,this.id=d(),this.isDone=!1}}const h=(()=>{const t=[new m("Jebac pis","Bo ich kurwa na maxa nienawidze","2021-11-11","High")];return l(t),{addTask:()=>{const n=new m(e().title,e().description,e().date,e().priority);t.push(n),l(t)},removeTask:e=>{const n=e.target.dataset.taskId;for(let e=0;e<t.length;e++)n===t[e].id&&t.splice(e,1);l(t)}}})();document.body.appendChild((()=>{const e=document.createElement("form"),n=document.createElement("button"),r=[];e.className="submit-form",n.textContent="Add Task",n.setAttribute("type","button"),[["Title","input","text"],["Date","input","date"],["Priority","select","",["High","Normal","Low"]],["Description","textarea"]].forEach((e=>{let n=new t,o=Object.keys(n);for(let t=0;t<e.length;t++)n[o[t]]=e[t];r.push(n)}));for(let t=0;t<r.length;t++)e.appendChild(r[t].createLabel()),e.appendChild(r[t].createInput());return e.appendChild(n),e})()),document.querySelector(".submit-form").querySelector("button").addEventListener("click",h.addTask)})();